# ๐ ุงูุฏุฑุน ุงููููู โ ูุดุฑูุน NFT ูุงูู ูุฌุงูุฒ ูููุดุฑ

## ๐ ููุฎุต ุงููุดุฑูุน

ูุดุฑูุน **ุงูุฏุฑุน ุงููููู** ูู ูุฌููุนุฉ NFT ูุจููุฉ ุนูู ูุนูุงุฑ ERC-721 (ูุน ุฏุนู Royalties ุนุจุฑ ERC-2981)ุ ููุญุชูู ุนูู ุณูุฑุจุชุงุช ุฃุชูุชุฉ ูุฑูุน ุงูููุชุงุฏุงุชุง ุฅูู IPFSุ ูุดุฑ ุงูุนูุฏุ ุถุจุท ุงูู BaseURIุ ูุงูู mint.

---

## ๐๏ธ ููููุงุช ุงููุดุฑูุน

### 1. **ุงูุนูุฏ ุงูุฐูู**
- `contracts/KingShieldNFT.sol`
  - ุงุณู ุงููุฌููุนุฉ: **ุงูุฏุฑุน ุงููููู**
  - ุฑูุฒ ุงููุฌููุนุฉ: `KSN`
  - ูุฏุนู Royalties (ERC-2981)

### 2. **ุงูุณูุฑุจุชุงุช ูุงูููุงู ุงููุชุงุญุฉ**
```
scripts/
โโโ deploy-fixed.js              # ูุดุฑ ุงูุนูุฏ ุนูู ุงูุดุจูุฉ (ุงููุณุฎุฉ ุงููุตุญุญุฉ)
โโโ deploy.js                    # ูุณุฎุฉ ูุฑุฌุนูุฉ
โโโ mint-fixed.js                # ุณู NFT ูุงุญุฏ (ูุณุฎุฉ ูุตุญุญุฉ)
โโโ mint.js                      # ูุณุฎุฉ ูุฑุฌุนูุฉ
โโโ batch-mint.js                # ุณู ุนุฏุฉ NFTs ุฏูุนุฉ ูุงุญุฏุฉ
โโโ setBaseURI-fixed.js          # ุถุจุท ุงูุฑุงุจุท ุงูุฃุณุงุณู ููููุชุงุฏุงุชุง (ูุตุญุญ)
โโโ setBaseURI.js                # ูุณุฎุฉ ูุฑุฌุนูุฉ
โโโ set-royalty.js               # ุชุนููู ูุณุจุฉ ุงูุนูููุงุช
โโโ upload-metadata-fixed.js     # ุฑูุน ูููุงุช ุงูููุชุงุฏุงุชุง ุฅูู web3.storage (ูุตุญุญ)
โโโ upload-metadata.js           # ูุณุฎุฉ ูุฑุฌุนูุฉ
โโโ upload-contract-metadata.js  # ุฑูุน contract-level metadata & logo
โโโ generate-contract-metadata.js# ูููุฏ contract-metadata.json ู logo.svg
โโโ mock-upload.js               # ููููุฏ CID ูุฒูู ููุงุฎุชุจุงุฑ ุงููุญูู
โโโ full-run-local.js            # ุชุฏูู ูุญูู ูุงูู (ูุดุฑ + ุถุจุท BaseURI + ูููุช) ููุงุฎุชุจุงุฑ
โโโ verify-contract.js           # ุชุญูู ุนูู Etherscan
```

> ููุงุญุธุฉ: ุงุณุชุฎุฏู ุงููุณุฎ `-fixed` ููุนูููุงุช ุงูุชู ุตูุญุญุช ุฎูุงู ุงูุนููุ ุฃู ุงุณุชุฎุฏู `run_all_prod.sh` / GitHub Actions ูุชุดุบูู ุงูุชุฏูู ุงูุฅูุชุงุฌู ุงูููุญุฏ.

### 3. **ูููุงุช ุงูููุชุงุฏุงุชุง**
```
metadata/
โโโ contract-metadata.json  # ุจูุงูุงุช ูุฌููุนุฉ ุงูุฏุฑุน ุงููููู (ุงูุงุณูุ ุงููุตูุ logo.svg)
โโโ logo.svg                # ุดุนุงุฑ ุงููุฌููุนุฉ (ุชู ุชุญุฏูุซู ููุชุถููู ูุต ุนุฑุจู)
โโโ 1.json
โโโ 2.json
โโโ 3.json
```

### 4. **ุงูุชูููู ูุงูุชูุซูู**
- `hardhat.config.js` - ุฅุนุฏุงุฏุงุช Hardhat ูุงูุดุจูุงุช
- `package.json` - ุงูุงุนุชูุงุฏูุงุช ูุงูุณูุฑุจุชุงุช
- `.env.example` - ูููุฐุฌ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ
- `README.md` - ุชุนูููุงุช ุงููุดุฑูุน (ูุญุฏูุซ ูุงุณู "ุงูุฏุฑุน ุงููููู")

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู (ููุฌุฒ ููุญุฏูุซ)

### 1) ุชุญุถูุฑ ุงูุจูุฆุฉ
```bash
git clone <repository-url>
cd KingShieldNFT_Fixed.sol
npm install
cp .env.example .env
# ุนุฏูู ุงูููู ูู .env (PRIVATE_KEY, SEPOLIA_RPC_URL, WEB3STORAGE_TOKEN, ...)
nano .env
```

### 2) ุฅูุดุงุก ุจูุงูุงุช ูุณุชูู ุงูุนูุฏ (ุงุฎุชูุงุฑู)
```bash
node scripts/generate-contract-metadata.js
# ูุฐุง ููููุฏ/ูุญุฏูุซ metadata/contract-metadata.json ู logo.svg
```

### 3) ุฑูุน ุงูููุชุงุฏุงุชุง ุฅูู web3.storage
```bash
# ููุฑุฃ ุงูุณูุฑุจุช TOKEN ูู ุงููุชุบูุฑ ุฃู ูู ุงููุณูุทุฉ
node scripts/upload-contract-metadata.js $WEB3STORAGE_TOKEN ./metadata
# ุฃู
node scripts/upload-metadata-fixed.js $WEB3STORAGE_TOKEN ./metadata
# ุงูุณุฎ ipfs://<CID>/ ุงููุงุชุฌ ูุงุณุชุฎุฏุงูู ูู BASE_URI
```

### 4) ูุดุฑ ุงูุนูุฏ (ุฅูุชุงุฌ/ุงุฎุชุจุงุฑ)
```bash
npx hardhat run scripts/deploy-fixed.js --network sepolia
# ุงูุณุฎ ุนููุงู ุงูุนูุฏ ุงููุงุชุฌ ูู ุงููุฎุฑุฌุงุช
```

### 5) ุถุจุท BaseURI ู ุณู NFT
```bash
# ุถุน BASE_URI=ipfs://<CID>/ ูู .env ุฃู ูุฑูุฑู ููุณูุท
npx hardhat run scripts/setBaseURI-fixed.js --network sepolia
npx hardhat run scripts/mint-fixed.js --network sepolia
```

### 6) ุชุญูู ุนูู Etherscan (ุงุฎุชูุงุฑู)
```bash
npx hardhat verify --network sepolia <CONTRACT_ADDRESS>
# ุฃู ุงุณุชุฎุฏู scripts/verify-contract.js
```

### 7) ุจุฏูู ููุญูุฏ (ูุณุชุญุณู ููุฅูุชุงุฌ)
```bash
# ุฃุถู ุงููุชุบูุฑุงุช ูู .env ุซู ุดุบูู:
chmod +x run_all_prod.sh
./run_all_prod.sh
# ุฃู ุดุบูู GitHub Actions ุนุจุฑ workflow: .github/workflows/prod-deploy.yml
# ูููููู ุชุดุบููู ุนุจุฑ GH CLI helper: scripts/trigger-gh-prod.sh
```

---

## ๐ ูุนูููุงุช ุงูุฃูุงู (ูุญุฏุซุฉ)

### ูุชุบูุฑุงุช .env ุงููููุฉ
```env
SEPOLIA_RPC_URL=https://eth-sepolia.g.alchemy.com/v2/YOUR_ALCHEMY_KEY
MAINNET_RPC_URL=
PRIVATE_KEY=0xYOUR_PRIVATE_KEY      # ุงุญูุธู ุณุฑูุงู
CONTRACT_ADDRESS=                    # ุณูุธูุฑ ุจุนุฏ ุงููุดุฑ
BASE_URI=ipfs://<CID>/
WEB3STORAGE_TOKEN=your_token_here
ETHERSCAN_API_KEY=your_api_key_here
RECIPIENT=0x...                      # ุนููุงู ุงูููุณุชูู ูููููุช ุงูุชุฌุฑูุจู
METADATA_FOLDER=metadata
```

### โ๏ธ ูุตุงุฆุญ ุฃูุงู
- โ ูุง ุชูุดุงุฑู `PRIVATE_KEY` ูู ุงูุฏุฑุฏุดุฉ ุฃู ุงูููููุช
- โ ุงุณุชุฎุฏู GitHub Secrets ูุชุดุบูู ุงูู CI/CD ุจุฃูุงู
- โ ุฌุฑุจ ุงูุชุฏูู ูุญูููุง ุฃููุงู (ุจุงุณุชุฎุฏุงู `mock-upload.js` ู `full-run-local.js`)

---

## ๐ ูุนูููุงุช ุงูุนูุฏ (ููุฎูุต)

| ุงููุนูููุฉ | ุงูุชูุงุตูู |
|---------|---------|
| ุงุณู ุงููุฌููุนุฉ | **ุงูุฏุฑุน ุงููููู** |
| ุงุณู ุงูููู ุงูุนูุฏ | `contracts/KingShieldNFT.sol` |
| ุงูุฑูุฒ | `KSN` |
| ุงูููุน | ERC-721 |
| ุงูุนูููุงุช | ERC-2981 (ูุนู) |
| ุงูุนููุงู | ุณููุนุฑุถ ุจุนุฏ ุงููุดุฑ |
| Solidity | ^0.8.0 |

---

## ๐ ุฏุนู ุงูุดุจูุงุช
- โ Sepolia (ุงุฎุชุจุงุฑ)
- โ Goerli (ุงุฎุชุจุงุฑ)
- โ Mainnet
- โ Polygon

---

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก (ุฃูุซูุฉ ุณุฑูุนุฉ)

- "You are not inside a Hardhat project" โ cd ุฅูู ุงููุฌูุฏ ุงูุตุญูุญ ุซู `npx hardhat compile`
- "Web3 connection failed" โ ุชุญูู ูู `SEPOLIA_RPC_URL` ูุงูุชูุงุก ุงูุญุณุงุจ
- "Insufficient balance" โ ุงุณุชุนูู Faucet ูุดุจูุฉ ุงูุงุฎุชุจุงุฑ ุฃู ุงุณุชุฎุฏู ุญุณุงุจ ุจู ETH

---

## ๐ก ูุตุงุฆุญ ุนูููุฉ

1. ุดุบูู `npx hardhat node` ูุฌุฑูุจ `full-run-local.js` ูุจู ุงูุงูุชูุงู ููุฅูุชุงุฌ
2. ุงุณุชุฎุฏู `mock-upload.js` ูุชูููุฏ CID ูููู ููุญุต ุงูู BaseURI ูุญูููุง
3. ูุชุดุบูู ุชุฏูู ุงูุฅูุชุงุฌ ุจุดูู ุขููุ ุถุน ุงููุชุบูุฑุงุช ูู GitHub Secrets ูุดุบูู workflow `prod-deploy.yml`

---

## ๐ ุงูุฏุนู
- ุชุญูู ูู ููู `.env` ุฃูููุงุ ุซู ุฃุฑุณู ููุฌ ุงูุชุดุบูู (CID, address, tx hashes) ุฅู ุฃุฑุฏุช ูุณุงุนุฏุฉ ููุฑูุฉ

---

## ๐ ุงูุชุฑุฎูุต
ุงูููุฏ ูุฑุฎูุต ุชุญุช **MIT License**

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ
โ ุชู ุชุญุฏูุซ ุงูุงุณู ูุงูููุฌู
โ ุงูุณูุฑุจุชุงุช ุงููุตุญุญุฉ ูุชุงุญุฉ
โ ุชุฏูู ุฅูุชุงุฌ ููุญูุฏ ุฌุงูุฒ

**ุงูููู ุงูุขู:** ุฃุถู ููุงุชูุญู ุฅูู `.env` ุฃู ูู GitHub Secrets ุซู ุดุบูู `run_all_prod.sh` ุฃู workflow ุงูุฅูุชุงุฌ.

---

**ุชู ุงูุชุญุฏูุซ ูู:** 24 ุฏูุณูุจุฑ 2025  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ูููุดุฑ
